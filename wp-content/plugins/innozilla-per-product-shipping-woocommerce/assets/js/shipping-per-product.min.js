jQuery(function(t){t("body").on("init_shipping_per_product",function(){t("input#_per_product_shipping").change(),t("input.variable_is_virtual").change(),t(".enable_per_product_shipping").change(),t("body").trigger("init_shipping_per_product_sortable")}).on("init_shipping_per_product_sortable",function(){t(".per_product_shipping_rules tbody").sortable({items:"tr",cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.removeAttr("style")}})}).on("change","input#_per_product_shipping",function(){t("input#_per_product_shipping").is(":checked")?t(this).closest("div").find(".per_product_shipping_rules").show():t(this).closest("div").find(".per_product_shipping_rules").hide()}).on("change","input.variable_is_virtual",function(){t(this).is(":checked")?t(this).closest(".woocommerce_variation").find(".enable_per_product_shipping").parent("label").hide():t(this).closest(".woocommerce_variation").find(".enable_per_product_shipping").parent("label").show()}),t(".woocommerce_variations").on("change",".enable_per_product_shipping",function(){t(this).is(":checked")?t(this).closest(".woocommerce_variation").find(".per_product_shipping_rules").show():t(this).closest(".woocommerce_variation").find(".per_product_shipping_rules").hide()}).on("woocommerce_variations_added woocommerce_variations_loaded",function(){t("body").trigger("init_shipping_per_product")}),t("#woocommerce-product-data").on("woocommerce_variations_added woocommerce_variations_loaded",function(){t("body").trigger("init_shipping_per_product")}),t("#woocommerce-product-data").on("focus",".per_product_shipping_rules input",function(){t(".per_product_shipping_rules tr").removeClass("current"),t(this).closest("tr").addClass("current")}).on("click",".per_product_shipping_rules input",function(){return t(this).focus(),!0}).on("click",".per_product_shipping_rules .remove",function(){var e=t(this).closest(".per_product_shipping_rules").find("tbody");return e.find("tr.current").size()>0?(e.find("tr.current").find("input").val(""),e.find("tr.current").hide(),t(this).closest(".per_product_shipping_rules").find(".widefat .pro-validation").hide()):(alert(IPPSW_Shipping_Per_Product_params.i18n_no_row_selected),t(this).closest(".per_product_shipping_rules").find(".widefat .pro-validation").hide()),!1}).on("click",".per_product_shipping_rules .insert",function(){var e=t(this).closest(".per_product_shipping_rules").find("tbody"),i=t(this).data("postid"),r='<tr>\t\t\t\t<td class="sort">&nbsp;</td>\t\t\t\t<td class="country"><input type="text" value="" placeholder="*" name="per_product_country['+i+'][new][]" /></td>\t\t\t\t<td class="state"><input type="text" value="" placeholder="*" name="per_product_state['+i+'][new][]" /></td>\t\t\t\t<td class="postcode"><input type="text" value="" placeholder="*" name="per_product_postcode['+i+'][new][]" /></td>\t\t\t\t<td class="cost"><input type="text" value="" placeholder="0.00" name="per_product_cost['+i+'][new][]" /></td>\t\t\t\t<td class="item_cost"><input type="text" value="" placeholder="0.00" name="per_product_item_cost['+i+'][new][]" /></td>\t\t\t</tr>',o=t(this).closest(".per_product_shipping_rules").find(".widefat tbody > tr:visible").length;return console.log(o),o<1?e.find("tr.current").size()>0?e.find("tr.current").after(r):e.append(r):t(this).closest(".per_product_shipping_rules").find(".widefat .pro-validation").slideDown(),!1}),t("body").trigger("init_shipping_per_product")});